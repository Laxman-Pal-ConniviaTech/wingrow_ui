{"version":3,"file":"static/js/416.6ee3fcc5.chunk.js","mappings":"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","sources":["Routes/Profile.js","services/user.service.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"sourcesContent":["import React , {useState , useEffect , useRef} from \"react\";\nimport '../styles/Profile.css'\nimport UserService from \"../services/user.service\";\nimport Spinner from '../components/Spinner'\nimport AuthService from \"../services/auth.service\";\n\nconst Profile = () => {\n  const [user , setuser] = useState();\n  const [Loading, setLoading] = useState(false)\n  const [toggleImage, settoggleImage] = useState(false)\n  const [toggleAddress, settoggleAddress] = useState(false)\n  let addressText = useRef(\"\")\n  const [newPic, setNewPic] = useState(\n    {\n        photo: '',\n    }\n);\n\n\nuseEffect(() => {\n  UserService.getAllUsers().then(res=>{\n    const response = res?.data\n    setuser(response[0])\n  })\n}, [])\n\nconst handleSubmitAddress = (e) => {\n  e.preventDefault();\n  setLoading(true);\n  let address = addressText.current.value;\n\n  if(address && address.length!==0){\n    AuthService.addAddress(address).then(res=>{\n      setuser(res);\n      window.location.reload();\n      setLoading(false);\n    })\n  }\n  settoggleAddress(!toggleAddress)\n}\n\nconst handleSubmit = (e) => {\n  e.preventDefault();\n  const formData = new FormData();\n  formData.append('photo', newPic.photo);\n  setLoading(true)\n  \n  if(formData){\n    AuthService.addimage(formData).then(res=>{\n      setuser(res);\n      window.location.reload();\n      setLoading(false)\n    })\n  }\n  settoggleImage(!toggleImage)\n}\n\nconst handlePhoto = (e) => {\n  setNewPic({...newPic, photo: e.target.files[0]});\n}\n\nconst handleAddresstoggle = () => {\n  settoggleAddress(!toggleAddress)\n}\n\nconst handleImagetoggle = () => {\n  settoggleImage(!toggleImage)\n}\n\n\n  return (\n    <div>\n      {!Loading && user ? \n      <div className=\"profile\">\n        <div className=\"profile_container\">\n        <div className=\"profile_image_wrapper\">\n            <img className=\"profile_img\" src={user.pic ? user.pic : \" \"} alt=\"profile\"/>\n        </div>\n        <div className=\"profile_details\">\n          <div>\n          Mobile No : {user.phone}\n          </div>\n          <div>\n          Name : {user.firstname} {user.lastname}\n          </div>\n          {user.address && <div>\n            Address : {user.address}\n          </div>}\n        </div>\n        <div className=\"profile_btn_grp\">\n        {\n        toggleImage ? \n        <form className=\"form_uploaddata\" onSubmit={handleSubmit} encType='multipart/form-data'>\n            <input \n                type=\"file\" \n                accept=\".png, .jpg, .jpeg\"\n                name=\"photo\"\n                style={{marginLeft:\"auto\"}}\n                onChange={handlePhoto}\n            />\n                    <input \n                type=\"submit\"\n                className=\"profile_btn_toggle\"\n            />\n            <button className=\"profile_btn_toggle\" onClick={()=>settoggleImage(!toggleImage)}>cancel</button>\n        </form>\n        :\n        <button className=\"profile_btn_toggle\" onClick={handleImagetoggle}>Upload Profile</button>\n        }\n       {\n       toggleAddress?\n       <form className=\"form_uploaddata\" onSubmit={handleSubmitAddress}>\n            <input \n                type=\"text\" \n                name=\"address\"\n                ref={addressText}\n                \n            />\n                    <input \n                type=\"submit\"\n                className=\"profile_btn_toggle\"\n            />\n            <button className=\"profile_btn_toggle\" onClick={()=>settoggleAddress(!toggleAddress)}>cancel</button>\n        </form>\n        :\n            <button className=\"profile_btn_toggle\" onClick={handleAddresstoggle}>{user.address?\"Update Address\":\"Add Address\"}</button>\n        }\n        </div>\n        </div>\n        </div>:<Spinner/>}\n    </div>\n  );\n};\n\nexport default Profile;\n","import axios from 'axios';\nimport authHeader from './auth.headers';\n\nconst{REACT_APP_API_ENDPOINT}=process.env;\n\n// const API_URL = 'https://wingrowagritech.herokuapp.com/';\nconst API_URL = `${REACT_APP_API_ENDPOINT}/`;\n\n const getPublicContent = () => {\n    return axios.get(API_URL + 'all');\n  }\n\n  const getInOutdata = () => {\n    return axios.get(API_URL + 'inwardoutward' , { headers: authHeader() });\n  }\n\n  const getStallsData = () => {\n    return axios.get(API_URL + 'stalls', { headers: authHeader() });\n  }\n\n  const getAdminData = () => {\n    return axios.get(API_URL + 'admin', { headers: authHeader() });\n  }\n\n  const getFarmers = () => {\n    return axios.get(API_URL + 'farmer', { headers: authHeader() });\n  }\n\n  const getAllUsers = () => {\n    return axios.get(API_URL + 'allusers', { headers: authHeader() });\n  }\n\n  const getUsers = () => {\n    return axios.get(API_URL + 'users', { headers: authHeader() });\n  }\n  \n\n\nconst UserService = {\n    getPublicContent,\n    getStallsData,\n    getAdminData,\n    getInOutdata,\n    getFarmers,\n    getAllUsers,\n    getUsers\n  };\n  \n  export default UserService;\n\n\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}"],"names":["useState","user","setuser","Loading","setLoading","toggleImage","settoggleImage","toggleAddress","settoggleAddress","addressText","useRef","photo","newPic","setNewPic","useEffect","UserService","then","res","response","data","className","src","pic","alt","phone","firstname","lastname","address","onSubmit","e","preventDefault","formData","FormData","append","AuthService","window","location","reload","encType","type","accept","name","style","marginLeft","onChange","target","files","onClick","current","value","length","ref","Spinner","API_URL","process","REACT_APP_API_ENDPOINT","getPublicContent","axios","getStallsData","headers","authHeader","getAdminData","getInOutdata","getFarmers","getAllUsers","getUsers","_defineProperty","obj","key","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","i","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties"],"sourceRoot":""}